package _start.GmailContact;

import java.util.ArrayList;

import _start.kontingent.Person;
import common.Data;
import common.log.CommonLog;

public class GmailContact {

	// ---------------------------------------------------------------------------------------------
	// CONSTRUCTOR
	// ---------------------------------------------------------------------------------------------
	/**
1	Name
2	Given Name
3	Additional Name
4	Family Name
5	Yomi Name
6	Given Name Yomi
7	Additional Name Yomi
8	Family Name Yomi
9	Name Prefix
10	Name Suffix
11	Initials
12	Nickname
13	Short Name
14	Maiden Name
15	Birthday
16	Gender
17	Location
18	Billing Information
19	Directory Server
20	Mileage
21	Occupation
22	Hobby
23	Sensitivity
24	Priority
25	Subject
26	Notes
27	Language
28	Photo
29	Group Membership
30	E-mail 1 - Type
31	E-mail 1 - Value
32	E-mail 2 - Type
33	E-mail 2 - Value
34	Phone 1 - Type
35	Phone 1 - Value
36	Phone 2 - Type
37	Phone 2 - Value
38	Phone 3 - Type
39	Phone 3 - Value
40	Address 1 - Type
41	Address 1 - Formatted
42	Address 1 - Street
43	Address 1 - City
44	Address 1 - PO Box
45	Address 1 - Region
46	Address 1 - Postal Code
47	Address 1 - Country
48	Address 1 - Extended Address
49	Address 2 - Type
50	Address 2 - Formatted
51	Address 2 - Street
52	Address 2 - City
53	Address 2 - PO Box
54	Address 2 - Region
55	Address 2 - Postal Code
56	Address 2 - Country
57	Address 2 - Extended Address
	 * 
	 */
	public GmailContact() {
		CommonLog.logger.info("heading//");

		ArrayList<Person> mergedPersons = Data.getMergedPersons();
		getPhonelist(mergedPersons);
		
	}

	private void getPhonelist(ArrayList<Person> mergedPersons) {
		for (int i = 0; i < mergedPersons.size(); i++) {
			Person person = mergedPersons.get(i);
			ArrayList<String> phonelist = person.getGmailPhone();
			checkDuplicates(phonelist);
		}
	}

	private void checkDuplicates(ArrayList<String> phonelist) {
		for (int i = 0; i < phonelist.size(); i++) {
			String phoneNumber1 = phonelist.get(i);
			/*
			 * Delete duplicate phone numbers.
			 */
			for (int j = 0; j < phonelist.size(); j++) {
				// Don't compare to itself.
				if (i != j) {
					String phoneNumber2 = phonelist.get(j);
					if (phoneNumber1.compareTo(phoneNumber2) == 0) {
						// if duplicate phone number delete the second one.
						phonelist.set(j, "");
					}
				}
			}
			/*
			 * Set empty phone numbers last.
			 */
			boolean goOn = true;
			while (goOn) {
				goOn = false;
				for (int j = 0; j < phonelist.size() - 1; j++) {
					// if not a phone number.
					if (phonelist.get(j).length() < 11) {
						phonelist.set(j, phonelist.get(j + 1));
						phonelist.set(j + 1, "");
					}
				}
			}
			int k = 8;
		}
	}

}
