package _start.config.calendar;

import java.time.LocalDate;
import java.util.ArrayList;

import _start.config.CreatePlayTimeDates;
import common.LocalMethods;
import common.log.CommonLog;

public class HandleCalendar {

	// ---------------------------------------------------------------------------------------------
	// CONSTRUCTOR
	// ---------------------------------------------------------------------------------------------
	public HandleCalendar(String line) {
		CommonLog.logger.info("heading//");

		if (line.startsWith("periode")) {
			// kalenderPeriod(line);
			new HandleCalendarPeriod(line);
		} else {
			/*
			 * Split lines according to commas.
			 */
			String[] lineSplit = LocalMethods.trimStringArray(line.split(","));
			int aliasEndIndex = createPlayTime(lineSplit);
			String period = lineSplit[0].substring(aliasEndIndex);

			new CreatePlayTimeDates(period, line, skipEverySecond, playTime);
			// Reset skip every second.
			skipEverySecond = false;

			exceptionDateStartTimeShowColor();
			ArrayList<LocalDate> localDates = playTime.getDatoer();
			playTime.setDateFirst(localDates.get(0));
			playTime.setDateLast(localDates.get(localDates.size() - 1));
			playTimeCollection.add(playTime);
		}
	}
}
