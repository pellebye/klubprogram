package _start.kalender;

import java.time.LocalDate;
import java.util.ArrayList;

import common.Data;
import common.LocalMethods;
import common.log.CommonLog;

public class WeekHandling {

	private int weekNumber = -1;

	public int getWeekNumber() {
		return weekNumber;
	}

	private boolean minusWeek = false;

	public boolean isMinusWeek() {
		return minusWeek;
	}

	// ---------------------------------------------------------------------------------------------
	// CONSTRUCTOR
	// ---------------------------------------------------------------------------------------------
	/**
	 * This class sets 'minusWeek' true if date is in a week which is marked as such. At the same time the current index in the collection
	 * @param date
	 */
	public WeekHandling(LocalDate date) {
		CommonLog.logger.info("heading//");

		weekNumber = LocalMethods.getWeekNumber(date);
		int year = date.getYear();

		ArrayList<MinusWeekList> weekList = Data.getMinusWeekList();

		for (int i = 0; i < weekList.size(); i++) {
			MinusWeekList tempList = weekList.get(i);
			if (tempList.getWeek() == weekNumber) {
				if (tempList.getYear() == year) {
					minusWeek = true;
					tempList.setActive(true);
				}
			}else tempList.setActive(false);
		}
	}
}
