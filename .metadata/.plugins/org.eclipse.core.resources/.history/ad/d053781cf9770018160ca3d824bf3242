package _start.kalender;

import java.time.LocalDate;
import java.time.temporal.TemporalField;
import java.time.temporal.WeekFields;
import java.util.ArrayList;
import java.util.Locale;

import common.Data;
import common.LocalMethods;
import common.log.CommonLog;

public class WeekHandling {

	private int weekNumber = -1;

	public int getWeekNumber() {
		return weekNumber;
	}

	private boolean minusWeek = false;

	public boolean isMinusWeek() {
		return minusWeek;
	}

	// ---------------------------------------------------------------------------------------------
	// CONSTRUCTOR
	// ---------------------------------------------------------------------------------------------
	public WeekHandling(LocalDate date) {
		CommonLog.logger.info("heading//");

		TemporalField woy = WeekFields.of(Locale.getDefault()).weekOfWeekBasedYear();
		weekNumber = date.get(woy);

		weekNumber = LocalMethods.getWeekNumber(date);

		ArrayList<Integer[]> weekList = Data.getWeekList();
		if (weekList != null) {
			for (int listNo = 0; listNo < weekList.size(); listNo++) {
				Integer[] week = weekList.get(listNo);
				if (week[0] == date.getYear()) {
					if (week[1] == weekNumber) {
						minusWeek = true;
						break;
					}
				}
			}
		}
	}
}
